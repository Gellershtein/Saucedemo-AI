# Проект автоматизированного тестирования для SauceDemo

Этот проект представляет собой полнофункциональный фреймворк для автоматизированного тестирования веб-приложения [SauceDemo](https://www.saucedemo.com/) с использованием Python, Selenium и Pytest.

## Архитектура

Фреймворк построен на основе паттерна **PageObject**, что обеспечивает высокую поддерживаемость и масштабируемость тестов. Каждый PageObject инкапсулирует логику взаимодействия с конкретной страницей веб-приложения.

- **Логирование**: Все ключевые действия (вход в метод, клики, ввод текста) логируются на уровне DEBUG в файл `test_run.log`.
- **Отчетность**: Интеграция с **Allure** позволяет генерировать детальные и наглядные отчеты о выполнении тестов.
- **Тестовые данные**: Для генерации пользовательских данных используется библиотека **Faker**, а для валидации моделей данных — **Pydantic**.

## Структура директорий

```
.
├───pages/                # Директория с классами PageObject
│   ├───base_page.py      # Базовый класс для всех страниц
│   ├───login_page.py     # Страница входа
│   ├───inventory_page.py # Страница каталога
│   ├───cart_page.py      # Страница корзины
│   ├───checkout_step_one_page.py # Страница оформления заказа, шаг 1
│   ├───checkout_step_two_page.py # Страница оформления заказа, шаг 2
│   └───checkout_complete_page.py # Страница завершения заказа
├───tests/                # Директория с тестами (E2E и юнит-тесты)
│   ├───test_saucedemo.py # E2E-тесты для основного функционала
│   └───test_unit.py      # Юнит-тесты для моделей данных
├───utils/                # Вспомогательные утилиты
│   └───logger.py         # Настройка логирования
├───allure-results/       # (генерируется) Директория с результатами тестов Allure
├───test_run.log          # (генерируется) Файл с логами выполнения тестов
├───.gitignore            # Файл для исключения файлов из git
├───conftest.py           # Конфигурационный файл Pytest (фикстуры, хуки)
├───pytest.ini            # Конфигурация Pytest
├───requirements.txt      # Файл с зависимостями проекта
└───README.md             # Этот файл
```

## Требования и установка

- Python 3.9+
- Google Chrome

**Шаги по установке:**

1.  Клонируйте репозиторий:
    ```bash
    git clone <repository_url>
    cd <repository_name>
    ```

2.  Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows: venv\Scripts\activate
    ```

3.  Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

## Запуск тестов

В проекте существует несколько видов тестов, которые можно запускать как вместе, так и по отдельности.

### Виды тестов

-   **E2E-тесты**: Полноценные сценарии взаимодействия с пользователем, проверяющие основной функционал сайта. Не имеют специальной маркировки.
-   **Юнит-тесты**: Проверяют отдельные компоненты системы в изоляции, например, модели данных Pydantic. Маркированы как `unit`.

### Команды для запуска

-   **Запустить все тесты (E2E + юнит):**
    ```bash
    pytest --alluredir=allure-results
    ```

-   **Запустить только юнит-тесты:**
    ```bash
    pytest -m unit --alluredir=allure-results
    ```

-   **Запустить только E2E-тесты (исключая юнит-тесты):**
    ```bash
    pytest -m "not unit" --alluredir=allure-results
    ```

## Генерация отчётов Allure

После выполнения тестов можно сгенерировать HTML-отчет Allure.

1.  Убедитесь, что Allure Commandline установлен. Если нет, его можно установить через Homebrew (macOS), Scoop (Windows) или из бинарных файлов.
    ```bash
    brew install allure
    ```
2.  Выполните команду для генерации отчета:
    ```bash
    allure serve allure-results
    ```
    Эта команда откроет веб-сервер и отобразит отчет в браузере.
